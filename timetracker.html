<html>

<head>
    <script>

    let startMin = 0;
    let endMin = 0;
    let totalMin = 0;
    let totalHrs = 0;
    let count = -1;
    let timeArray = [];

function displayTimeAndComment(){
    count++;
    let note = document.getElementById("text").value;
    let e1 =  document.getElementById('note');
    let d = new Date();
    let h = d.getHours();
    let m = d.getMinutes();
    let hrs = (h + (m/60)).toFixed(2);
    let mins = h*60 + m;

    if (m<10){
         m = "0" + m;
    }

    timeArray[count] = hrs;
    console.log(timeArray);

    e1.textContent += h + ":" + m;
    e1.textContent +=  note;
    e1.textContent += "\r\n";

    if(count%2 === 0){
        startMin = mins;
    }
    else{
        e1.textContent += "<> "
      
     //find a way to add as a <br> instead
        endMin = mins;
        totalMin = totalMin + endMin - startMin;
        

        console.log(totalHrs * 60, totalMin);

    }
    
}

function overrideTime(){
    let newHour = document.getElementById("orhrs").value;
    let newIndex = document.getElementById('ordex').value;
    timeArray[newIndex] = newHour;
    console.log(newHour, newIndex);
}
  
    


function clearText(){
    startMin = 0;
    endMin = 0;
    totalMin = 0;
    count = 0;
    alert('about to clear text');
    let e1 = document.getElementById('note');
    let e2 = document.getElementById('xx');
    e1.textContent = "";
    e2.textContent = "";
}



function summarizeDay(){
    let e = document.getElementById('xx');
    e.textContent = totalMin;

    let i = 0;
    let j = 0;
    while(timeArray[i] !== undefined){
        i++;
    }

    i = i - 1;

    while(i>-1){
        j++;
        if(j>10){
            break;
        }
        if(i%2 === 0){
            i = i - 1;
        }
        totalHrs += timeArray[i] - timeArray[i-1];
        i = i - 2;
    }
    totalHrs = (totalHrs).toFixed(1);
    console.log(totalHrs);
    alert(totalMin);
    alert(totalHrs);

}


    </script>
    <style>

    </style>
</head>

<body>
    <h1 id="top">hello</h1>
    <div id="note"></div>
    <div id="xx"></div>
    <div id="xxx"></div>

    <button onclick="displayTimeAndComment()">Enter</button>
    <button onclick="clearText()">Clear</button>
  <!--  <button onclick="endTime()">End</button>-->
    <button onclick="summarizeDay()">Summarize</button>


    <form id="textfield">
            <input type ="text" id="text" value="" />
    </form>
    
    <form id="orindex">
        <input type = "number" id="ordex" value="" />
    </form>
    <form id="orhours">
        <input type ="number" id="orhrs" value="" />
    </form>

    <button onclick="overrideTime()">Override</button>


    
</body>

</html>